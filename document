@POST
@Transactional
public Response createFeedback(UserFeedbackEntity feedback) {
    if (feedback.getLearningContent() == null || feedback.getLearningContent().getId() == null) {
        return Response.status(Response.Status.BAD_REQUEST).entity("Learning content ID is required").build();
    }

    LearningContent learningContent = em.find(LearningContent.class, feedback.getLearningContent().getId());
    if (learningContent == null) {
        return Response.status(Response.Status.BAD_REQUEST).entity("Invalid learning content ID").build();
    }

    feedback.setLearningContent(learningContent);
    feedback.setCreatedAt(LocalDateTime.now());
    em.persist(feedback);

    return Response.status(Response.Status.CREATED).entity(feedback).build();
}
